while(1){
    write.wait()

    // write

    read.signal()
}